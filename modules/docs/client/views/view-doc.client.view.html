<section class="container" data-ng-controller="DocsController" data-ng-init="findOne()">
	<div class="page-header">
		<h1 data-ng-bind="doc.title"></h1>
	</div>
	<div class="pull-right" data-ng-show="authentication.user._id == doc.user._id || authentication.user.roles[1] == 'admin'">
		<a class="btn btn-primary" href="/#!/docs/{{doc._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>
	<div ng-controller="SavedDocsController as sdCtrl" class="pull-right" ng-show="authentication.user" ng-init="find()">
		<a class="btn btn-primary" ng-hide="sdCtrl.hasDoc(authentication.user._id, doc._id)" ng-click="sdCtrl.create(doc._id, doc.title, doc.description, doc.type, doc.url, doc.thumbnail_image, doc.tags)">
			<i class="glyphicon glyphicon-plus"></i>
		</a>
		<a class="btn btn-primary" ng-show="sdCtrl.hasDoc(authentication.user._id, doc._id)" ng-click="sdCtrl.removeByDocId(authentication.user._id, doc._id)">
			<i class="glyphicon glyphicon-ok"></i>
		</a>
	</div>
	<div ng-switch on="doc.type">
		<!-- google powerpoint/document/pdf viewer -->
		<div ng-switch-when="ppt/pptx">
			<iframe ng-src="{{'http://docs.google.com/gview?url='+ doc.url +'&embedded=true' | trustAsResourceUrl}}" class="col-md-12 col-lg-12 col-xs-12 col-sm-12" style="height:500px" frameborder="0"></iframe>
		</div>
		<!-- TODO prezi embedding -->
		<div ng-switch-when="prezi">
			<iframe id="iframe_container" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" class="col-md-12 col-lg-12 col-xs-12 col-sm-12" style="height:500px" src="https://prezi.com/embed/c2dn7lls4rsc/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;landing_data=bHVZZmNaNDBIWnNjdEVENDRhZDFNZGNIUE43MHdLNWpsdFJLb2ZHanI5enlwNU1hQmxVTnkrdGlwUjZWeWRWbjlBPT0&amp;landing_sign=ii2uzlcsDAC_T1TU0yMEBEt1W1fKeFavKx0TMErdztk"></iframe>
		</div>
		<!-- TODO image embedding -->
		<div ng-switch-when="png" ng-switch-when="jpg" ng-switch-when="image">
			<img alt={{doc.type}} src={{doc.url}} style="width:600px;height:500px;">
		</div>
</section>