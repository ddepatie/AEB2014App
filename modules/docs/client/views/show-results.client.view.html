<section data-ng-controller="DocsController" data-ng-init="find()">
    <div class="page-header">
        <h1>Search Results</h1>
    </div>

    <section id="categories">
        <div class="container">
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12" style="padding-bottom:20px;"> 
                    <h2 style="padding-bottom:4px;">Filters</h2>
                    <p><input type="checkbox" name="topic" ng-model="healthChecked" ng-click="editFilter('health');"><font size="+1">&nbsp;Health</font></p>
                    <div ng-show="healthChecked" style="margin-left:10px;">
                    <p><input type="checkbox" name="subtopic" id="food safety" ng-click="editFilter('food safety');">&nbsp;Food Safety</p>
                    <p><input type="checkbox" name="subtopic" id="disease" ng-click="editFilter('disease');">&nbsp;Disease</p>
                    <p><input type="checkbox" name="subtopic" id="nutrition" ng-click="editFilter('nutrition');">&nbsp;Nutrition</p>
                    <p><input type="checkbox" name="subtopic" id="waste" ng-click="editFilter('waste');">&nbsp;Waste</p>
                    </div>

                    <p><input type="checkbox" name="topic" ng-model="economyChecked" ng-click="editFilter('economy');"><font size="+1">&nbsp;Economy</font></p>
                    <div ng-show="economyChecked" style="margin-left:10px;">
                    <p><input type="checkbox" name="subtopic" id="farmers" ng-click="editFilter('farmers');">&nbsp;Farmers</p>
                    <p><input type="checkbox" name="subtopic" id="prices" ng-click="editFilter('prices');">&nbsp;Prices</p>
                    <p><input type="checkbox" name="subtopic" id="markets and trade" ng-click="editFilter('markets and trade');">&nbsp;Markets and Trade</p>
                    <p><input type="checkbox" name="subtopic" id="consumers" ng-click="editFilter('consumers');">&nbsp;Consumers</p>
                    </div>

                    <p><input type="checkbox" name="topic" ng-model="technologyChecked" ng-click="editFilter('technology');"><font size="+1">&nbsp;Technology</font></p>
                    <div ng-show="technologyChecked" style="margin-left:10px;">
                    <p><input type="checkbox" name="subtopic" id="gmos" ng-click="editFilter('gmos');">&nbsp;GMOs</p>
                    <p><input type="checkbox" name="subtopic" id="automation" ng-click="editFilter('automation');">&nbsp;Automation</p>
                    <p><input type="checkbox" name="subtopic" id="production methods" ng-click="editFilter('production methods');">&nbsp;Production Methods</p>
                    <p><input type="checkbox" name="subtopic" id="computing" ng-click="editFilter('computing');">&nbsp;Computing</p>
                    </div>
                    
                    <p><input type="checkbox" name="topic" ng-model="developmentChecked" ng-click="editFilter('development');"><font size="+1">&nbsp;Development</font></p>
                    <div ng-show="developmentChecked" style="margin-left:10px;">
                    <p><input type="checkbox" name="subtopic" id="poverty" ng-click="editFilter('poverty');">&nbsp;Poverty</p>
                    <p><input type="checkbox" name="subtopic" id="hunger" ng-click="editFilter('hunger');">&nbsp;Hunger</p>
                    <p><input type="checkbox" name="subtopic" id="sustainability" ng-click="editFilter('sustainability');">&nbsp;Sustainability</p>
                    <p><input type="checkbox" name="subtopic" id="aid" ng-click="editFilter('aid');">&nbsp;Aid</p>
                    </div>

                    <p><input type="checkbox" name="topic" ng-model="environmentChecked" ng-click="editFilter('environment');"><font size="+1">&nbsp;Environment</font></p>
                    <div ng-show="environmentChecked" style="margin-left:10px;">
                    <p><input type="checkbox" name="subtopic" id="water" ng-click="editFilter('water');">&nbsp;Water</p>
                    <p><input type="checkbox" name="subtopic" id="pollution" ng-click="editFilter('pollution');">&nbsp;Pollution</p>
                    <p><input type="checkbox" name="subtopic" id="land" ng-click="editFilter('land');">&nbsp;Land</p>
                    <p><input type="checkbox" name="subtopic" id="climate" ng-click="editFilter('climate');">&nbsp;Climate</p>
                    </div>
                </div>
                <div ng-show="$root.searchText || filters[0]" id="content" class="col-lg-10 col-md-10 col-sm-12 col-xs-12 list-group" style="padding-bottom:20px;">
                    <div>
                    <ul style="list-style-type: none;">
                        <li ng-repeat="doc in filteredDocs = (docs | filter: $root.searchText | filter: checkFilters)" class="col-md-4 col-sm-6 col-xs-12 col-lg-3 cl1">
                            <div class="resultBox">
                                <div class="element">
                                    <a ui-sref="docs.view({docId: doc._id})" style="background: url({{doc.thumbnail_image}}) 50% 50% no-repeat;display: block;width: auto; height:50%; background-size : 100% auto; padding:10px">
                                    </a>
                                    <div>
                                        <h2 style="overflow:hidden; max-height:45px; margin: 0; margin-bottom: 5px"><b> {{doc.title}} </b></h2>
                                        <p style="overflow:hidden; max-height:45px; margin: 0">{{ doc.description+ ', ' + x.type}}</p>
                                    </div>
                                </div>
                            <div>
                        </li>
                    </ul>
                    </div>
                    <div ng-show="!filteredDocs.length" style="width:400px;">
                        <h3>No results found.</h3>
                    </div>
                </div>
                <div ng-hide="$root.searchText || filters[0]" id="content" class="col-lg-10 col-md-10 col-sm-12 col-xs-12 list-group" style="padding-bottom:20px;">
                    <div style="width:600px;">
                        <h3>No results found.</h3>
                        <h4>(Use the search bar or filters to find results)</h4>
                    </div>
                </div>
            </div>
            <div class="alert alert-warning text-center" data-ng-hide="!docs.$resolved || docs.length">
            	No Docs yet, why don't you <a href="/#!/docs/create">create one</a>?
            </div>
        </div>
    </section>
</section>